<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Professionelle Rechnung â€“ Milane Tattoo</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  body { background:#111; color:#fff; }
  .card { background:#1b1b1b; border:none; }
  .btn-milane { background: linear-gradient(90deg, #d85bff, #b400ff); color:#fff; border:none; }
  .logo { width:130px; filter: drop-shadow(0 0 8px #b400ff) drop-shadow(0 0 14px #d85bff); }
  .form-label {color:white;}
</style>
</head>
<body>

<div class="container mt-4 mb-5" style="max-width:850px;">
  <div class="text-center mb-4">
    <img src="logo.png" class="logo" alt="Milane Logo">
    <h2 class="mt-3" style="color:#f5c7ff; letter-spacing:3px; font-weight:300;">RECHNUNG</h2>
  </div>

  <div class="card p-4 rounded-4 shadow-lg" style="background:#1b1b1b; border:none;">

    <h5 class="mb-4" style="font-weight:300;">Kundendaten</h5>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Vorname:</label>
        <input id="iv_firstname" class="form-control text-white" style="background:#111; border:1px solid #333;">
      </div>
      <div class="col-md-6">
        <label class="form-label">Name:</label>
        <input id="iv_lastname" class="form-control text-white" style="background:#111; border:1px solid #333;">
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Strasse & Nr:</label>
      <input id="iv_street" class="form-control text-white" style="background:#111; border:1px solid #333;">
    </div>

    <div class="mb-3">
      <label class="form-label">PLZ & Ort:</label>
      <input id="iv_city" class="form-control text-white" style="background:#111; border:1px solid #333;">
    </div>

    <h5 class="mt-4 mb-3" style="font-weight:300;">Leistung</h5>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label class="form-label">Anzahl Stunden:</label>
        <input type="number" id="iv_hours" class="form-control text-white" style="background:#111; border:1px solid #333;" step="0.1" />
      </div>
      <div class="col-md-6 mb-3">
        <label class="form-label">Preis pro Stunde (inkl. 8.1% MwSt):</label>
        <input type="number" id="iv_rate" value="200" class="form-control text-white" style="background:#111; border:1px solid #333;" />
      </div>
    </div>

    <button class="btn btn-milane w-100 py-2 mt-2" onclick="generatePDF()">PDF erzeugen</button>

  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
function generatePDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF('p', 'mm', 'a4');

  const firmName = "Vivo Life AG / Milane Tattoo Studio";
  const firmAddress = "Aesch, Schweiz";
  const firmMWST = "CHE-280.3.020.958-1";

  const firstname = document.getElementById('iv_firstname').value;
  const lastname = document.getElementById('iv_lastname').value;
  const street = document.getElementById('iv_street').value;
  const city = document.getElementById('iv_city').value;
  const date = new Date().toLocaleDateString('de-CH');

  const hours = parseFloat(document.getElementById('iv_hours').value) || 0;
  const rate = parseFloat(document.getElementById('iv_rate').value) || 0;

  const total = hours * rate;
  const mwst = total * 0.081;
  const netto = total - mwst;

  doc.setFont('Helvetica');
  doc.setFontSize(26);
  doc.text('RECHNUNG', 105, 30, { align: 'center' });

  doc.setFontSize(12);
  doc.text(`Datum: ${date}`, 150, 40);

  doc.text(`${firstname} ${lastname}`, 20, 60);
  doc.text(street, 20, 67);
  doc.text(city, 20, 74);


  doc.rect(20, 100, 170, 10,);
 
  doc.text('Leistung', 25, 107);
  doc.text('Std.', 115, 107);
  doc.text('CHF/h', 135, 107);
  doc.text('Total', 165, 107);


  doc.text('Tattoo Arbeit', 25, 123);
  doc.text(String(hours), 118, 123);
  doc.text(rate.toFixed(2), 138, 123);
  doc.text(total.toFixed(2), 168, 123);


  doc.rect(20, 140, 170, 10,);

  doc.text('NETTO', 25, 147);
  doc.text(netto.toFixed(2) + ' CHF', 165, 147);

  doc.rect(20, 150, 170, 10,);
  doc.text('MWST 8.1%', 25, 157);
  doc.text(mwst.toFixed(2) + ' CHF', 165, 157);

  doc.rect(20, 160, 170, 10,);
  doc.text('GESAMT', 25, 167);
  doc.text(total.toFixed(2) + ' CHF', 165, 167);

  doc.setTextColor(100);
  doc.setFontSize(10);
  doc.text(firmName, 20, 270);
  doc.text(firmAddress, 20, 276);
  doc.text(firmMWST, 20, 282);

  doc.save(`Rechnung_${firstname}_${lastname}.pdf`);
}
</script>

</body>
</html>
